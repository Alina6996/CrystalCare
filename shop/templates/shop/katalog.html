{% extends "main/base.html" %}

{% block content %}
<section class="katalog-hero" style="background-image: url('/media/products/katalog.jpg');">
    <h1>–ù–∞—à –∫–∞—Ç–∞–ª–æ–≥ –∫–æ—Å–º–µ—Ç–∏–∫–∏</h1>
    <p>–ó–Ω–∞–π–¥—ñ—Ç—å —Å–≤–æ—é —ñ–¥–µ–∞–ª—å–Ω—É –∫–æ—Å–º–µ—Ç–∏–∫—É</p>
</section>
<div class="category-bar">
    <a href="{% url 'katalog' %}" class="active {% if not current_category %}active{% endif %}">–£—Å—ñ</a>
    {% for cat in categories %}
        <a href="{% url 'katalog_by_category' cat.slug %}"
           class="{% if current_category and cat == current_category %}active{% endif %}">
            {{ cat.name }}
        </a>
    {% endfor %}
</div>
<!-- –§—ñ–ª—å—Ç—Ä –ø–æ —Ü—ñ–Ω—ñ -->
<div class="price-filter-strip">
    <form method="get" class="price-filter-form">
        <input type="number" name="min_price" placeholder="–í—ñ–¥" value="{{ min_price }}">
        <span class="separator">-</span>
        <input type="number" name="max_price" placeholder="–î–æ" value="{{ max_price }}">
        <button type="submit">–§—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏</button>
    </form>
</div>
<section class="katalog-items">
    {% if products %}
        {% for product in products %}
        <div class="item-card">
            <a href="{% url 'product_detail' product.id %}">
                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-img">
            </a>
            <h3><a href="{% url 'product_detail' product.id %}">{{ product.name }}</a></h3>
            <p>–¶—ñ–Ω–∞: {{ product.price }} –≥—Ä–Ω</p>
            <a href="{% url 'add_to_cart' product.id %}" class="btn">–î–æ–¥–∞—Ç–∏ —É –∫–æ—à–∏–∫</a>
        </div>
        {% endfor %}
    {% else %}
        <p>–ù–µ–º–∞—î —Ç–æ–≤–∞—Ä—ñ–≤ üòï</p>
    {% endif %}
</section>

<section class="recommended-section">
    <h2>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è –≤–∞—Å</h2>
    <div class="recommended-slider">
        {% for product in recommended_products %}
        <div class="recommended-item">
            <a href="{% url 'product_detail' product.id %}">
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
            </a>
        </div>
        {% endfor %}
    </div>
</section>

{% endblock %}